<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Icon Generator - Servicetechniker Portal</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 { color: #1976D2; }
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .icon-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .icon-item canvas {
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .icon-item p {
            margin: 10px 0 0;
            font-size: 14px;
            color: #666;
        }
        button {
            background: #1976D2;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover { background: #1565C0; }
        .instructions {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }
        .instructions ol { padding-left: 20px; }
        .instructions li { margin: 8px 0; }
    </style>
</head>
<body>
    <h1>ðŸ”§ Icon Generator</h1>
    
    <div class="instructions">
        <h3>Anleitung:</h3>
        <ol>
            <li>Klicke auf "Alle Icons generieren"</li>
            <li>Klicke auf "Alle herunterladen" um die Icons zu speichern</li>
            <li>Verschiebe die heruntergeladenen PNG-Dateien in den <code>icons/</code> Ordner</li>
        </ol>
    </div>

    <button onclick="generateAllIcons()">Alle Icons generieren</button>
    <button onclick="downloadAllIcons()">Alle herunterladen</button>

    <div class="icon-grid" id="iconGrid"></div>

    <script>
        const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
        const icons = [];

        function drawIcon(ctx, size, maskable = false) {
            const padding = maskable ? size * 0.1 : 0;
            const innerSize = size - (padding * 2);
            
            // Background
            ctx.fillStyle = '#1976D2';
            if (maskable) {
                ctx.fillRect(0, 0, size, size);
            } else {
                ctx.beginPath();
                ctx.arc(size/2, size/2, size/2, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Inner icon area
            const cx = size / 2;
            const cy = size / 2;
            const scale = innerSize / 48;
            
            // Draw simplified portal icon
            ctx.fillStyle = 'white';
            
            // Rectangle (portal window)
            const rectW = 20 * scale;
            const rectH = 14 * scale;
            const rectX = cx - rectW/2;
            const rectY = cy - rectH/2 - 2 * scale;
            const radius = 2 * scale;
            
            ctx.beginPath();
            ctx.roundRect(rectX, rectY, rectW, rectH, radius);
            ctx.fill();
            
            // KASYS dot (green)
            ctx.fillStyle = '#4CAF50';
            ctx.beginPath();
            ctx.arc(cx - 5 * scale, cy - 2 * scale, 3 * scale, 0, Math.PI * 2);
            ctx.fill();
            
            // Telekom dot (magenta)
            ctx.fillStyle = '#E20074';
            ctx.beginPath();
            ctx.arc(cx + 5 * scale, cy - 2 * scale, 3 * scale, 0, Math.PI * 2);
            ctx.fill();
            
            // Stand
            ctx.fillStyle = 'white';
            ctx.fillRect(cx - 2 * scale, cy + rectH/2 - 2 * scale, 4 * scale, 4 * scale);
        }

        function generateAllIcons() {
            const grid = document.getElementById('iconGrid');
            grid.innerHTML = '';
            icons.length = 0;

            // Regular icons
            sizes.forEach(size => {
                const canvas = document.createElement('canvas');
                canvas.width = size;
                canvas.height = size;
                const ctx = canvas.getContext('2d');
                
                drawIcon(ctx, size, false);
                
                const item = document.createElement('div');
                item.className = 'icon-item';
                
                const displayCanvas = document.createElement('canvas');
                displayCanvas.width = Math.min(size, 128);
                displayCanvas.height = Math.min(size, 128);
                const displayCtx = displayCanvas.getContext('2d');
                displayCtx.drawImage(canvas, 0, 0, displayCanvas.width, displayCanvas.height);
                
                item.appendChild(displayCanvas);
                item.innerHTML += `<p>icon-${size}.png</p>`;
                grid.appendChild(item);
                
                icons.push({ canvas, name: `icon-${size}.png` });
            });

            // Maskable icons (192 and 512)
            [192, 512].forEach(size => {
                const canvas = document.createElement('canvas');
                canvas.width = size;
                canvas.height = size;
                const ctx = canvas.getContext('2d');
                
                drawIcon(ctx, size, true);
                
                const item = document.createElement('div');
                item.className = 'icon-item';
                
                const displayCanvas = document.createElement('canvas');
                displayCanvas.width = Math.min(size, 128);
                displayCanvas.height = Math.min(size, 128);
                const displayCtx = displayCanvas.getContext('2d');
                displayCtx.drawImage(canvas, 0, 0, displayCanvas.width, displayCanvas.height);
                
                item.appendChild(displayCanvas);
                item.innerHTML += `<p>icon-maskable-${size}.png</p>`;
                grid.appendChild(item);
                
                icons.push({ canvas, name: `icon-maskable-${size}.png` });
            });

            // Shortcut icons
            ['kasys', 'telekom'].forEach(type => {
                const canvas = document.createElement('canvas');
                canvas.width = 96;
                canvas.height = 96;
                const ctx = canvas.getContext('2d');
                
                const color = type === 'kasys' ? '#4CAF50' : '#E20074';
                
                // Background
                ctx.fillStyle = color;
                ctx.beginPath();
                ctx.arc(48, 48, 48, 0, Math.PI * 2);
                ctx.fill();
                
                // Icon
                ctx.fillStyle = 'white';
                ctx.font = 'bold 40px sans-serif';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(type === 'kasys' ? 'K' : 'T', 48, 48);
                
                const item = document.createElement('div');
                item.className = 'icon-item';
                item.appendChild(canvas);
                item.innerHTML += `<p>${type}-shortcut.png</p>`;
                grid.appendChild(item);
                
                icons.push({ canvas, name: `${type}-shortcut.png` });
            });
        }

        function downloadAllIcons() {
            icons.forEach(({ canvas, name }) => {
                const link = document.createElement('a');
                link.download = name;
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        }

        // Generate on load
        generateAllIcons();
    </script>
</body>
</html>
